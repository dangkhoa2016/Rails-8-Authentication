<h3>Welcome, <%= current_user.full_name %></h3>

<p>Your profile information</p>

<div class="row">
  <div class="col-lg-4">
    <div class="card mb-4">
      <div class="card-body text-center">
        <%= image_tag("profile#{rand(1..2)}.png", alt: current_user.full_name, class: 'rounded-circle img-fluid', style: 'width: 150px;') %>
        <h5 class="mt-3 mb-1"><%= current_user.full_name %></h5>
        <p class="text-muted mb-3">@<%= current_user.username %></p>
        <%# <p class="text-muted mb-4">current_user.role.titleize</p> %>
        <div class="d-flex justify-content-center mb-2">
          <%= link_to 'Edit', edit_user_registration_path, class: "btn btn-primary" %>
          <button type="button" class="btn btn-outline-primary ms-1">Change avatar</button>
        </div>
      </div>
    </div>
  </div>

  <div class="col-lg-8">
    <div class="card mb-4">
      <div class="card-body">
        <div class="row">
          <div class="col-sm-3">
            <p class="mb-0">First Name</p>
          </div>
          <div class="col-sm-9">
            <p class="text-muted mb-0"><%= current_user.first_name %></p>
          </div>
        </div>
        <hr>

        <div class="row">
          <div class="col-sm-3">
            <p class="mb-0">Last Name</p>
          </div>
          <div class="col-sm-9">
            <p class="text-muted mb-0"><%= current_user.last_name %></p>
          </div>
        </div>
        <hr>

        <div class="row">
          <div class="col-sm-3">
            <p class="mb-0">Email</p>
          </div>
          <div class="col-sm-9">
            <p class="text-muted mb-0"><%= current_user.email %></p>
          </div>
        </div>
        <hr>

        <div class="row">
          <div class="col-sm-3">
            <p class="mb-0">Username</p>
          </div>
          <div class="col-sm-9">
            <p class="text-muted mb-0"><%= current_user.username %></p>
          </div>
        </div>
        <hr>

        <div class="row">
          <div class="col-sm-3">
            <p class="mb-0">Birthday</p>
          </div>
          <div class="col-sm-9">
            <p class="text-muted mb-0"><%= current_user.date_of_birth&.strftime('%B %d, %Y') %></p>
          </div>
        </div>
        <hr>

        <div class="row">
          <div class="col-sm-3">
            <p class="mb-0">Role</p>
          </div>
          <div class="col-sm-9">
            <p class="text-muted mb-0"><%= current_user.role.titleize %></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<% if flash[:notice].blank? && devise_mapping.confirmable? && current_user.pending_reconfirmation? %>
  <div class="alert alert-info" role="alert">
    <p>
      You have an unconfirmed email address: <strong><%= current_user.unconfirmed_email %></strong>,
      please check your email to confirm your email address.
    </p>
    <p>
      If you didn't receive the email, you can <%= link_to 'request another confirmation email', user_confirmation_path %>.
    </p>
  </div>
<% end %>

<div class="card mb-5">
  <div class="card-body p-4">
    <h4 class="mb-3">Account information</h3>
    <p class="small mb-0"><i class="bi bi-calendar"></i>  Created on <%= current_user.created_at.strftime('%B %d, %Y') %></p>

    <hr class="my-4">

    <div class='row'>
      <div class='col-md-6'>
        <div class="alert alert-primary" role="alert">
          Last sign in time: <%= time_ago_in_words(current_user.last_sign_in_at) %> ago
        </div>
        <div class="alert alert-primary" role="alert">
          Current sign in time: <%= time_ago_in_words(current_user.current_sign_in_at) %> ago
        </div>
      </div>
      <div class='col-md-6'>
        <div class="alert alert-warning" role="alert">
          Last sign in IP: <%= current_user.last_sign_in_ip %>
        </div>
        <div class="alert alert-<%= current_user.current_sign_in_ip != current_user.last_sign_in_ip ? 'danger' : 'warning' %>" role="alert">
          Current sign in IP: <%= current_user.current_sign_in_ip %>
        </div>
      </div>
    </div>
  </div>
</div>
